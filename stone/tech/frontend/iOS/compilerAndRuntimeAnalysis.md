#compiler for oc and runtime-syetem
 
##编译器的主要职责
1、静态分析（静态的检查语法错误），更类似于翻译器，代码还未写入内存，所以该阶段也没有内存的概念。只能检查出很低级的错误。

2、将c家族的代码转换为llvm-ir中间码

[llvm编译器详解](https://objccn.io/issue-6-2/)

[llvm编译器和运行时分析](https://my.oschina.net/chars/blog/615241)

[运行时系统分析](http://justsee.iteye.com/blog/2163777)

[比较基础的运行时解释文章](http://tech.glowing.com/cn/objective-c-runtime/)

##存在的不解与疑惑（下文为我的初步理解与分析）
运行时————查看维基百科等很多资料，回顾以往开发经历，可以确定，所谓运行时，动态语言，就是在app运行在手机上的这个时间过程。

在这个过程中，可以进行消息的转发，类型的确定(id)，那么疑问来了。。。

梳理xcode编译到运行到手机的过程，xcode编译器clang，编译完成之后，到底生成的是什么，是机器码？是中间码？还是什么，google了很久之后，没什么答案，但是分析之后，我感觉是什么可能不重要，但是绝对不会是机器码。。。查看苹果官方文档和clang关于oc-runtime的文档，发现其实mac和iOS手机上面可以运行苹果应用，是因为操作系统上面有运行时库（可以维基百科这个词），所以编译之后应该是中间码，而且这个中间码可以被操作系统上面的运行时库解析，然后消息转发的时候，完成代码的定位和解释（类似解释器），没有找到就报错了（运行时错误）。

而我们在xcode中可以看到的运行时库，是苹果提供给开发者的，和操作系统中的运行时库是不一样的，操作系统（iOS和mac）提供的运行时库（c和汇编写的），我们应该是看不到的。xcode中可见的运行时库主要目的苹果给的说明是，链接不同语言的brige，在编译器最初阶段，会将所有的import导入翻译，其实我们所做的所谓runtime黑魔法，就是做的这一步。————对某些消息转发进行替换，在操作系统上(iOS和mac)运行的时候，操作系统的运行时库再来定位代码和操作（这步是不透明的）。

info:19921025
kongkong299208
747746689
